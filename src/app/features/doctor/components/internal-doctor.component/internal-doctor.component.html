<div class="container mt-3">
  <!-- البحث عن المريض -->
  <div class="mb-3">
    <app-search-applicant (applicantSelected)="onApplicantSelected($event)"></app-search-applicant>
  </div>

  <!-- أزرار الإضافة -->
  <div *ngIf="selectedApplicant " class="button-group mb-3 d-flex gap-2">
    <!-- يظهر فقط إذا ما عنده فحص سابق -->
    <button 
      *ngIf="hasInternalExam " 
      class="btn btn-primary" 
      (click)="addInternalExam()">إضافة فحص داخلي
    </button>

    <button class="btn btn-warning" (click)="addConsultation()">طلب استشارة</button>
    <button class="btn btn-success" (click)="addInvestigation()">طلب تحليل</button>
  </div>

  <!-- المكونات -->
  <app-internal-exam-form
    *ngIf="selectedApplicant"
    [applicantFileNumber]="selectedApplicant.fileNumber">
  </app-internal-exam-form>

  <app-consultation-form
    *ngIf="selectedApplicant"
    [applicantFileNumber]="selectedApplicant.fileNumber">
  </app-consultation-form>

  <app-investigation-form
    *ngIf="selectedApplicant"
    [applicantFileNumber]="selectedApplicant.fileNumber">
  </app-investigation-form>
</div>
