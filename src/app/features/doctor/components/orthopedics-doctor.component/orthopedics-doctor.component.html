<div class="container mt-3">
  <!-- البحث عن المريض -->
  <div class="mb-3">
    <app-search-applicant (applicantSelected)="onApplicantSelected($event)"></app-search-applicant>
  </div>

  <!-- أزرار الإضافة -->
  <div class="button-group mb-3 d-flex gap-2">
    <button 
      class="btn btn-primary" 
      (click)="addOrthopedicExam()" 
      *ngIf="!hasOrthopedicExam && selectedApplicant">
      إضافة فحص العظام
    </button>

    <button 
      class="btn btn-warning" 
      (click)="addConsultation()" 
      *ngIf="selectedApplicant">
      طلب استشارة
    </button>

    <button 
      class="btn btn-success" 
      (click)="addInvestigation()" 
      *ngIf="selectedApplicant ">
      طلب تحليل
    </button>
  </div>

  <!-- مودال فحص العظام -->
  <app-orthopedic-exam-form
    *ngIf="selectedApplicant"
    [applicantFileNumber]="selectedApplicant.fileNumber">
  </app-orthopedic-exam-form>

  <!-- مودال الاستشارة -->
  <app-consultation-form
    *ngIf="selectedApplicant"
    [applicantFileNumber]="selectedApplicant.fileNumber">
  </app-consultation-form>

  <!-- فورم التحليل -->
  <app-investigation-form
    *ngIf="selectedApplicant"
    #investigationForm
    [applicantFileNumber]="selectedApplicant.fileNumber">
  </app-investigation-form>
</div>
