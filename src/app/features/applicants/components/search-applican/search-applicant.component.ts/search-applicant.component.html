<div class="supervisor-page container">
  <!-- البحث -->
  <div class="row justify-content-center mb-3">
    <div class="col-12 col-md-6">
      <form [formGroup]="searchForm" (ngSubmit)="onSearch()" class="search-wrapper d-flex gap-2">
        <button type="submit" class="btn search-btn" [disabled]="loading">
          <i class="fas fa-search"></i>
          <span>ابحث</span>
        </button>
        <input
          type="text"
          class="form-control search-input"
          placeholder="أدخل رقم الملف..."
          formControlName="fileNumber"
        />
      </form>
      <div *ngIf="!applicant && responseMessage" class="alert alert-warning mt-3" role="alert">
        {{ responseMessage }}
      </div>
    </div>
  </div>

  <!-- تفاصيل المنتسب -->
  <div class="row g-4 mt-4" *ngIf="applicant">
    <div class="col-12">
      <div class="card applicant-card shadow-lg border-0">
        <div class="card-header bg-gradient-primary text-white">
          <h5 class="mb-0"><i class="fas fa-user me-2"></i> البيانات الشخصية والطبية</h5>
        </div>
        <div class="card-body p-4">
          <div class="row g-3">
            <!-- بيانات أساسية -->
            <div class="col-md-6">
              <ul class="list-group list-group-flush rounded-3 overflow-hidden">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>رقم الملف:</strong> <span>{{ applicant.fileNumber }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>الاسم:</strong> <span>{{ applicant.fullName }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>العمل:</strong> <span>{{ applicant.job }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>الحالة الاجتماعية:</strong> <span>{{ applicant.maritalStatus?.description }}</span>
                </li>
              </ul>
            </div>

            <!-- بيانات طبية -->
            <div class="col-md-6">
              <ul class="list-group list-group-flush rounded-3 overflow-hidden">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>الطول:</strong> <span>{{ applicant.height }} سم</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>الوزن:</strong> <span>{{ applicant.weight }} كغ</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>BMI:</strong> <span>{{ applicant.bmi }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>ضغط الدم:</strong> <span>{{ applicant.bloodPressure }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>النبض:</strong> <span>{{ applicant.pulse }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>وشم:</strong> <span>{{ applicant.tattoo ? 'نعم' : 'لا' }}</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  <strong>علامات مميزة:</strong> <span>{{ applicant.distinctiveMarks || 'لا توجد' }}</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
